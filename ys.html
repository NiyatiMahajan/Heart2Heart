<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Mental Health Support Chatbot</title>
  <style>
    /* Basic styling for the chat interface */
    #chat-window {
      border: 1px solid #ccc;
      padding: 10px;
      height: 300px;
      overflow-y: auto;
      margin-top: 10px;
    }
    .message {
      margin-bottom: 10px;
    }
    .user-message {
      text-align: right;
      color: blue;
    }
    .bot-message {
      text-align: left;
      color: green;
    }
    #language-selection {
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <!-- Language Selection Section -->
  <div id="language-selection">
    <label for="language-dropdown">Select Language:</label>
    <select id="language-dropdown">
      <option value="en">English</option>
      <option value="pa">Punjabi</option>
      <!-- Add more languages as needed -->
    </select>
    <button id="start-chat">Start Chat</button>
  </div>

  <!-- Chat Container (hidden until language is selected) -->
  <div id="chat-container" style="display:none;">
    <div id="chat-window"></div>
    <input type="text" id="user-input" placeholder="Type your message here..." />
    <button id="send-btn">Send</button>
  </div>

  <script>
    // Predefined translations for each language
    const translations = {
      en: {
        "how are you": "I'm doing great, thanks for asking! How are you feeling today?",
        "hello": "Hi there! I'm here for you. How are you feeling?",
        "i'm feeling sad": "I'm really sorry you're feeling that way. Let me try to cheer you up with a joke! Why don't skeletons fight each other? They don't have the guts! üòÑ",
        "i'm feeling down": "It's okay to feel down sometimes. You're not alone. Want to hear a joke to lift your spirits? Why don't eggs tell jokes? They might crack up! üòÑ",
        "i'm stressed": "Stress can be overwhelming. Take a deep breath. Remember, it's okay to take breaks. How about some advice? Try a quick walk or some deep breathing exercises!",
        "i'm happy": "That's wonderful to hear! Keep that positive energy going! üòÑ",
        "i'm anxious": "I understand that anxiety can be tough. It‚Äôs okay to take small steps. How about a calming breathing exercise? Inhale for 4 counts, hold for 4, exhale for 4. Let's try it together! üíÜ‚Äç‚ôÄ",
        "default": "I'm not sure how you're feeling. Would you like to talk more about it? Feel free to share with me."
      },
      pa: {
        "how are you": "‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®ï‡®ø‡®µ‡©á‡®Ç ‡®π‡©ã?",
        "hello": "‡®∏‡®§ ‡®∏‡©ç‡®∞‡©Ä ‡®Ö‡®ï‡®æ‡®≤! ‡®Æ‡©à‡®Ç ‡®§‡©Å‡®π‡®æ‡®°‡©á ‡®≤‡®à ‡®π‡®æ‡®Ç‡•§ ‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®ï‡®ø‡®µ‡©á‡®Ç ‡®Æ‡®π‡®ø‡®∏‡©Ç‡®∏ ‡®ï‡®∞ ‡®∞‡®π‡©á ‡®π‡©ã?",
        "‡®Æ‡©à‡®Ç ‡®â‡®¶‡®æ‡®∏ ‡®Æ‡®π‡®ø‡®∏‡©Ç‡®∏ ‡®ï‡®∞ ‡®∞‡®ø‡®π‡®æ ‡®π‡®æ‡®Ç": "‡®Æ‡©à‡®®‡©Ç‡©∞ ‡®Æ‡®æ‡®´‡®º ‡®ï‡®∞‡®®‡®æ ‡®π‡©à ‡®ï‡®ø ‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®â‡®¶‡®æ‡®∏ ‡®Æ‡®π‡®ø‡®∏‡©Ç‡®∏ ‡®ï‡®∞ ‡®∞‡®π‡©á ‡®π‡©ã‡•§ ‡®Æ‡©à‡®Ç ‡®§‡©Å‡®π‡®æ‡®°‡®æ ‡®Æ‡©Ç‡®° ‡®ö‡©∞‡®ó‡®æ ‡®ï‡®∞‡®® ‡®≤‡®à ‡®á‡©±‡®ï ‡®ö‡©Å‡®ü‡®ï‡®≤‡®æ ‡®∏‡©Å‡®£‡®æ‡®â‡®Ç‡®¶‡®æ ‡®π‡®æ‡®Ç!",
        "‡®Æ‡©à‡®Ç ‡®®‡®ø‡®∞‡®æ‡®∏‡®º ‡®Æ‡®π‡®ø‡®∏‡©Ç‡®∏ ‡®ï‡®∞ ‡®∞‡®ø‡®π‡®æ ‡®π‡®æ‡®Ç": "‡®ï‡®¶‡©á-‡®ï‡®¶‡©á ‡®â‡®¶‡®æ‡®∏‡©Ä ‡®π‡©ã‡®£‡®æ ‡®∏‡®π‡©Ä ‡®π‡©à‡•§ ‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®á‡®ï‡©±‡®≤‡©á ‡®®‡®π‡©Ä‡®Ç ‡®π‡©ã‡•§ ‡®ï‡©Ä ‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®Ü‡®™‡®£‡©á ‡®Æ‡®® ‡®®‡©Ç‡©∞ ‡®π‡©å‡®∏‡®≤‡®æ ‡®¶‡©á‡®£ ‡®≤‡®à ‡®á‡©±‡®ï ‡®ö‡©Å‡®ü‡®ï‡®≤‡®æ ‡®∏‡©Å‡®£‡®®‡®æ ‡®ö‡®æ‡®π‡©ã‡®ó‡©á?",
        "‡®Æ‡©à‡®Ç ‡®§‡®£‡®æ‡®Ö ‡®µ‡®ø‡©±‡®ö ‡®π‡®æ‡®Ç": "‡®§‡®£‡®æ‡®Ö ‡®¨‡®π‡©Å‡®§ ‡®ú‡®ø‡®Ü‡®¶‡®æ ‡®π‡©ã ‡®∏‡®ï‡®¶‡®æ ‡®π‡©à‡•§ ‡®á‡©±‡®ï ‡®ó‡®π‡®ø‡®∞‡®æ ‡®∏‡®æ‡®π ‡®≤‡®µ‡©ã ‡®Ö‡®§‡©á ‡®Ü‡®∞‡®æ‡®Æ ‡®®‡®æ‡®≤ ‡®∞‡®π‡©ã‡•§ ‡®ï‡©Å‡®ù ‡®∏‡®≤‡®æ‡®π: ‡®á‡©±‡®ï ‡®õ‡©ã‡®ü‡©Ä ‡®ö‡®æ‡®≤ ‡®ú‡®æ‡®Ç ‡®ó‡®π‡®ø‡®∞‡®æ ‡®∏‡®æ‡®π!",
        "i'm happy": "‡®á‡®π ‡®∏‡©Å‡®£ ‡®ï‡©á ‡®¨‡®π‡©Å‡®§ ‡®ñ‡©Å‡®∏‡®º‡©Ä ‡®π‡©ã‡®à! ‡®Ü‡®™‡®£‡©Ä ‡®ñ‡©Å‡®∏‡®º‡©Ä ‡®ú‡®æ‡®∞‡©Ä ‡®∞‡©±‡®ñ‡©ã!",
        "i'm anxious": "‡®Æ‡©à‡®®‡©Ç‡©∞ ‡®™‡®§‡®æ ‡®π‡©à ‡®ï‡®ø ‡®ö‡®ø‡©∞‡®§‡®æ ‡®ï‡®ø‡®µ‡©á‡®Ç ‡®Æ‡®π‡®ø‡®∏‡©Ç‡®∏ ‡®π‡©Å‡©∞‡®¶‡©Ä ‡®π‡©à‡•§ ‡®õ‡©ã‡®ü‡©á ‡®ï‡®¶‡®Æ ‡®ö‡©Å‡©±‡®ï‡©ã‡•§ ‡®á‡©±‡®ï ‡®ó‡®π‡®ø‡®∞‡®æ ‡®∏‡®æ‡®π, ‡®ö‡®æ‡®∞ ‡®ó‡®ø‡®£‡®§‡©Ä ‡®∞‡©Å‡®ï‡©ã, ‡®´‡®ø‡®∞ ‡®õ‡©±‡®°‡©ã‡•§",
        "default": "‡®Æ‡©à‡®®‡©Ç‡©∞ ‡®™‡®§‡®æ ‡®®‡®π‡©Ä‡®Ç ‡®ï‡®ø ‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®ï‡®ø‡®µ‡©á‡®Ç ‡®Æ‡®π‡®ø‡®∏‡©Ç‡®∏ ‡®ï‡®∞ ‡®∞‡®π‡©á ‡®π‡©ã‡•§ ‡®ï‡©Ä ‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®á‡®∏ ‡®¨‡®æ‡®∞‡©á ‡®π‡©ã‡®∞ ‡®ó‡©±‡®≤ ‡®ï‡®∞‡®®‡®æ ‡®ö‡®æ‡®π‡©ã‡®ó‡©á?"
      }
    };

    // Global variable to store the user's selected language
    let selectedLanguage = 'en';

    // Function to add messages to the chat window
    function addMessage(message, sender) {
      const chatWindow = document.getElementById('chat-window');
      const messageDiv = document.createElement('div');
      messageDiv.classList.add('message', sender + '-message');
      messageDiv.innerHTML = `<p>${message}</p>`;
      chatWindow.appendChild(messageDiv);
      chatWindow.scrollTop = chatWindow.scrollHeight;  // Scroll to the latest message
    }

    // Function to analyze user input and provide an appropriate response in the selected language
    function handleUserInput() {
      const userInputElement = document.getElementById('user-input');
      const userInput = userInputElement.value.trim().toLowerCase();
      if (userInput === "") return;

      // Display the user's message
      addMessage(userInput, 'user');

      // Use the translation object for the selected language
      const langResponses = translations[selectedLanguage];
      // Check if the user input matches one of the keys; otherwise, use the default response
      const response = langResponses[userInput] || langResponses["default"];

      // Display the bot response after a short delay
      setTimeout(() => {
        addMessage(response, 'bot');
      }, 1000);

      // Clear the input field
      userInputElement.value = "";
    }

    // Attach event listeners for sending messages
    document.getElementById('send-btn').addEventListener('click', handleUserInput);
    document.getElementById('user-input').addEventListener('keypress', function (e) {
      if (e.key === 'Enter') {
        handleUserInput();
      }
    });

    // Handle language selection and show the chat interface
    document.getElementById('start-chat').addEventListener('click', function() {
      const dropdown = document.getElementById('language-dropdown');
      selectedLanguage = dropdown.value;
      
      // Hide the language selection section and display the chat container
      document.getElementById('language-selection').style.display = 'none';
      document.getElementById('chat-container').style.display = 'block';
      
      // Optionally, greet the user in the selected language
      const greetMessage = translations[selectedLanguage]["hello"] || "Hello!";
      addMessage(greetMessage, 'bot');
    });
  </script>
</body>
</html>